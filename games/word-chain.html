<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>Word Chain</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{background:#1a1a2e;color:#e0e0e0;font-family:'Segoe UI',system-ui,sans-serif;display:flex;flex-direction:column;align-items:center;height:100dvh;overflow:hidden;touch-action:manipulation;user-select:none;padding:12px}
h1{font-size:1.3rem;color:#00d4aa;margin-bottom:4px}
#hud{font-size:.9rem;color:#8888aa;margin:4px 0}
#hud span{color:#00d4aa}
#timer-bar{width:90%;max-width:360px;height:6px;background:#16213e;border-radius:3px;margin:6px 0;overflow:hidden}
#timer-fill{height:100%;background:#00d4aa;border-radius:3px;transition:width .3s}
#chain{display:flex;flex-wrap:wrap;gap:6px;justify-content:center;max-width:360px;margin:8px 0;max-height:35vh;overflow-y:auto}
.word{background:#16213e;padding:4px 10px;border-radius:12px;font-size:.85rem}
.word .letter{color:#00d4aa;font-weight:700}
#current{font-size:1.4rem;color:#00d4aa;margin:8px 0}
#current .must{font-size:1.8rem;text-transform:uppercase;font-weight:700}
#input-row{display:flex;gap:8px;margin:8px 0;width:90%;max-width:360px}
#wordInput{flex:1;background:#16213e;border:2px solid #334;color:#fff;padding:12px;border-radius:8px;font-size:1.1rem;min-height:44px;outline:none}
#wordInput:focus{border-color:#00d4aa}
.btn{background:#00d4aa;color:#1a1a2e;border:none;padding:12px 20px;border-radius:8px;font-size:1rem;font-weight:700;cursor:pointer;min-height:44px}
.btn:active{transform:scale(.95)}
#msg{min-height:1.4em;color:#e74c3c;font-size:.9rem;margin:4px 0}
#result{text-align:center;margin:10px 0}
.btn.start{padding:14px 32px;font-size:1.1rem}
</style>
</head>
<body>
<h1>Word Chain</h1>
<div id="hud">Words: <span id="wcount">0</span> | Score: <span id="score">0</span> | Best: <span id="best">0</span></div>
<div id="timer-bar"><div id="timer-fill" style="width:100%"></div></div>
<div id="current">Press Start to play!</div>
<div id="chain"></div>
<div id="input-row" style="display:none">
  <input id="wordInput" type="text" autocomplete="off" autocapitalize="none" placeholder="Type a word...">
  <button class="btn" onclick="submit()">Go</button>
</div>
<div id="msg"></div>
<div id="result"><button class="btn start" onclick="startGame()">Start</button></div>
<script>
// Common English words for validation (compact set)
const WORDS=new Set(["able","about","above","acid","across","act","add","age","ago","agree","ahead","air","all","allow","also","always","among","and","anger","angle","animal","answer","ant","any","apart","apple","area","arm","army","around","art","ask","atom","back","bad","bag","ball","band","bank","bar","base","bat","bath","bay","beach","bear","beat","bed","been","before","began","begin","behind","bell","below","bend","best","better","big","bird","bit","bite","black","block","blood","blow","blue","board","boat","body","bone","book","born","both","bottom","box","boy","brain","branch","brave","bread","break","bridge","brief","bright","bring","broad","broke","brother","brown","build","burn","bus","busy","but","buy","cabin","cage","cake","call","calm","came","camp","can","cap","capital","captain","car","card","care","carry","case","cat","catch","cause","cell","center","chair","chance","change","charge","chart","check","chick","chief","child","chip","choose","circle","city","claim","class","clean","clear","climb","clock","close","cloud","club","coal","coast","coat","cold","collect","colony","color","column","come","common","company","compare","complete","condition","connect","consider","contain","control","cook","cool","copy","corn","corner","correct","cost","cotton","could","count","country","course","cover","cow","create","crop","cross","crowd","cry","cup","current","cut","dad","dance","danger","dark","daughter","day","dead","deal","dear","death","decide","deck","deep","degree","depend","desert","design","determine","develop","did","die","differ","difficult","dig","direct","discuss","distant","divide","doctor","does","dog","dollar","done","door","double","down","draw","dream","dress","drink","drive","drop","drug","dry","duck","during","dust","duty","each","ear","early","earth","ease","east","eat","edge","effect","egg","eight","either","element","else","end","enemy","energy","engine","enough","enter","equal","even","evening","event","ever","every","exact","example","except","exercise","expect","experience","experiment","explain","eye","face","fact","fair","fall","family","famous","fan","far","farm","fast","fat","father","favor","fear","feed","feel","feet","fell","felt","fence","few","field","fight","figure","fill","final","find","fine","finger","finish","fire","firm","first","fish","fit","five","flat","flew","floor","flow","flower","fly","follow","food","foot","force","forest","forget","form","forward","found","four","fraction","free","fresh","friend","from","front","fruit","fuel","full","fun","game","garden","gas","gather","gave","general","gentle","get","girl","give","glad","glass","gold","gone","good","got","govern","grand","grass","gray","great","green","grew","ground","group","grow","guess","guide","gun","had","hair","half","hall","hand","hang","happen","happy","hard","has","hat","have","head","hear","heart","heat","heavy","held","help","her","here","high","hill","him","his","history","hit","hold","hole","home","hope","horse","hot","hot","hour","house","how","huge","human","hundred","hunt","hurry","hurt","ice","idea","inch","include","indicate","industry","insect","instant","interest","invent","iron","island","its","job","join","joy","jump","just","keep","kept","key","kill","kind","king","knew","knock","know","labor","lady","laid","lake","land","language","large","last","late","laugh","law","lay","lead","leaf","learn","least","leave","led","left","leg","less","let","letter","level","lie","life","lift","light","like","line","liquid","list","listen","little","live","locate","log","lone","long","look","lost","lot","loud","love","low","machine","made","magic","magnet","main","major","make","man","many","map","mark","market","mass","master","match","material","matter","may","mean","measure","meat","meet","melody","men","metal","method","middle","might","mile","milk","million","mind","mine","minute","miss","mix","modern","molecule","moment","money","month","moon","morning","most","mother","motion","mount","mountain","mouth","move","much","multiply","music","must","name","nation","natural","nature","near","necessary","neck","need","never","new","next","night","nine","noise","none","noon","nor","north","nose","note","nothing","notice","noun","now","number","object","observe","ocean","off","offer","office","often","oil","old","once","one","only","open","operate","opposite","order","organ","original","other","our","out","over","own","oxygen","page","paint","pair","palm","paper","paragraph","parent","part","particular","party","pass","past","path","pattern","pay","people","perhaps","period","person","phrase","pick","picture","piece","pitch","place","plain","plan","plane","planet","plant","plate","play","please","plural","poem","point","poor","populate","port","position","possible","post","pound","power","practice","prepare","present","press","pretty","price","print","probable","problem","process","produce","product","proper","property","protect","prove","provide","public","pull","push","put","quarter","question","quick","quiet","quite","race","radio","rain","raise","ran","range","rapid","reach","read","ready","real","reason","receive","record","red","region","remember","repeat","reply","report","represent","require","rest","result","rich","ride","right","ring","rise","river","road","rock","roll","room","root","rope","rose","round","row","rub","rule","run","safe","said","sail","salt","same","sand","sang","sat","save","saw","say","scale","school","science","score","sea","search","season","seat","second","section","seed","seem","segment","select","self","sell","send","sense","sent","sentence","separate","serve","set","settle","seven","several","shall","shape","share","sharp","she","sheet","shell","shine","ship","shoe","shop","shore","short","shoulder","shout","show","side","sight","sign","silent","silver","similar","simple","since","sing","sister","sit","six","size","skill","skin","sleep","slip","slow","small","smell","smile","snow","soft","soil","soldier","solution","some","son","song","soon","sound","south","space","speak","special","speed","spell","spend","spoke","spot","spread","spring","square","stage","stand","star","start","state","station","stay","stead","steam","steel","step","stick","still","stock","stone","stood","stop","store","story","strange","stream","street","stretch","string","strong","student","study","subject","substance","success","such","sudden","suffix","sugar","suggest","suit","summer","sun","supply","support","sure","surface","surprise","swim","symbol","system","table","tail","take","talk","tall","teach","team","tell","ten","tend","term","test","than","thank","that","the","their","them","then","there","these","they","thick","thin","thing","think","third","this","those","though","thought","thousand","three","through","throw","thus","tie","time","tiny","tire","together","told","tone","too","took","tool","top","total","touch","toward","town","track","trade","train","travel","tree","triangle","trip","trouble","truck","true","try","tube","turn","twenty","two","type","under","unit","until","upon","use","usual","valley","value","various","verb","very","village","visit","voice","vowel","wait","walk","wall","want","war","warm","was","wash","watch","water","wave","way","wear","weather","week","weight","well","went","were","west","what","wheel","when","where","whether","which","while","white","who","whole","whose","why","wide","wife","wild","will","win","wind","window","wing","winter","wire","wish","with","woman","women","won","wonder","wood","word","work","world","would","write","written","wrong","wrote","yard","year","yellow","yes","yet","you","young","your"]);

let words=[],score=0,best=0,timeLeft=0,maxTime=15,timerId,lastLetter='';

function startGame(){
  words=[];score=0;timeLeft=maxTime;lastLetter='';
  document.getElementById('wcount').textContent=0;
  document.getElementById('score').textContent=0;
  document.getElementById('chain').innerHTML='';
  document.getElementById('msg').textContent='';
  document.getElementById('result').innerHTML='';
  document.getElementById('input-row').style.display='flex';
  // Pick starter
  const starters=['play','game','tree','star','love','mind'];
  const starter=starters[Math.floor(Math.random()*starters.length)];
  addWord(starter,true);
  document.getElementById('wordInput').focus();
  startTimer();
}
function startTimer(){
  clearInterval(timerId);
  timerId=setInterval(()=>{
    timeLeft-=0.1;
    document.getElementById('timer-fill').style.width=Math.max(0,timeLeft/maxTime*100)+'%';
    if(timeLeft<=5)document.getElementById('timer-fill').style.background='#e74c3c';
    else document.getElementById('timer-fill').style.background='#00d4aa';
    if(timeLeft<=0)endGame();
  },100);
}
function addWord(w,isFirst){
  words.push(w);lastLetter=w[w.length-1];
  const chain=document.getElementById('chain');
  const span=document.createElement('span');span.className='word';
  span.innerHTML=w.slice(0,-1)+'<span class="letter">'+w[w.length-1]+'</span>';
  chain.appendChild(span);chain.scrollTop=chain.scrollHeight;
  document.getElementById('current').innerHTML='Next word starts with: <span class="must">'+lastLetter+'</span>';
  if(!isFirst){score+=w.length*10;timeLeft=Math.min(timeLeft+3,maxTime)}
  document.getElementById('wcount').textContent=words.length-(isFirst?1:0);
  document.getElementById('score').textContent=score;
}
function submit(){
  const inp=document.getElementById('wordInput');
  const w=inp.value.trim().toLowerCase();inp.value='';
  const msg=document.getElementById('msg');
  if(!w){msg.textContent='';return}
  if(w.length<2){msg.textContent='Too short (min 2 letters)';return}
  if(w[0]!==lastLetter){msg.textContent=`Must start with "${lastLetter.toUpperCase()}"`;return}
  if(words.includes(w)){msg.textContent='Already used!';return}
  if(!WORDS.has(w)){msg.textContent='Not in dictionary';return}
  msg.textContent='';addWord(w);inp.focus();
}
function endGame(){
  clearInterval(timerId);
  document.getElementById('input-row').style.display='none';
  if(score>best){best=score;document.getElementById('best').textContent=best}
  document.getElementById('timer-fill').style.width='0%';
  document.getElementById('current').textContent='Time\'s up!';
  document.getElementById('result').innerHTML=`<div style="margin:8px 0">Final Score: <b style="color:#00d4aa">${score}</b> (${words.length-1} words)</div><button class="btn start" onclick="startGame()">Play Again</button>`;
}
document.getElementById('wordInput').addEventListener('keydown',e=>{if(e.key==='Enter')submit()});
</script>
</body>
</html>
